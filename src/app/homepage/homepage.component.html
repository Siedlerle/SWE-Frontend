<!doctype html>
<html>
  <body>
    <mat-grid-list cols="2" rowHeight="2:1" [gutterSize]="'15px'" class="layoutGrid">
      <mat-grid-tile rowspan="1" colspan="1" class="layoutGridTile mat-elevation-z5">
        <mat-grid-tile-header class="mat-grid-tile-header-left mat-elevation-z3">
          <h1>Meine Events</h1>
        </mat-grid-tile-header>

        <mat-list class="eventList">
          <mat-list-item *ngFor="let event of activeRegisteredEvents" (click)="openEventUnregistry(event)" class="eventListItem">
            <mat-card class="card">
              <img mat-card-sm-image src="{{backendURL + event.image}}"  onerror="this.src='../../assets/images/nature.jpg'"  alt = "" class = "mat-card-image">
              <div class="card-content">
                <mat-card-header>{{event.name}}</mat-card-header>
                <mat-card-content>{{event.description}}<br><br>Startdatum: {{event.startDate | date: 'dd.MM.yyyy'}}</mat-card-content>
              </div>
            </mat-card>
          </mat-list-item>
        </mat-list>

      </mat-grid-tile>
      <mat-grid-tile rowspan="2" colspan="1" class="layoutGridTile mat-elevation-z5">
        <mat-grid-tile-header class="mat-grid-tile-header-right mat-elevation-z3">
          <h1>Kalender</h1>
        </mat-grid-tile-header>
        <mat-calendar></mat-calendar>
      </mat-grid-tile>
      <mat-grid-tile rowspan="1" colspan="1" class="layoutGridTile mat-elevation-z5">
        <mat-grid-tile-header class="mat-grid-tile-header-left mat-elevation-z3"></mat-grid-tile-header>
        <mat-tab-group class="invitation-tabs" dynamicHeight>
          <mat-tab label="Event-Einladungen" class="mat-tab-label">
              <mat-list class="invitationList">
                <mat-list-item *ngFor="let event of invitedEvents" (click)="onCardClick($event)" class="invitationListItem">
                  <mat-card class="card" (click)="openEventInvite(event)">
                    <img mat-card-sm-image src="{{backendURL + event.image}}"  onerror="this.src='../../assets/images/nature.jpg'"  alt = "" class = "mat-card-image">
                    <div class="card-content">
                      <mat-card-header>{{event.name}}</mat-card-header>
                      <mat-card-content>{{event.description}}<br><br>Startdatum: {{event.startDate | date: 'dd.MM.yyyy'}}</mat-card-content>
                    </div>
                  </mat-card>
                </mat-list-item>
              </mat-list>
          </mat-tab>
          <ng-container *ngIf="hideOrgaInvite">
            <mat-tab label="Organisations-Einladungen" class="mat-tab-label">
              <mat-list class="invitationList">
                <mat-list-item *ngFor="let organisation of invitedOrganisations" class="invitationList">
                  <mat-card class="card" (click)="openOrganisationInvite(organisation)" class="invitationListItem">
                    <img mat-card-sm-image src="{{backendURL + organisation.image}}" onerror="this.src='../../assets/images/OrgaBanner.png'" alt = "" class = "mat-card-image">
                    <div class="card-content">
                      <mat-card-header>{{organisation.name}}</mat-card-header>
                      <mat-card-content>{{organisation.location}}</mat-card-content>
                    </div>
                  </mat-card>
                </mat-list-item>
              </mat-list>
            </mat-tab>
          </ng-container>

        </mat-tab-group>
      </mat-grid-tile>
    </mat-grid-list>

    <app-event-card-invitation *ngIf="showEventInvite" (onClose)="closeEventInvite()"></app-event-card-invitation>
    <app-organisation-card-invitation *ngIf="showOrganisationInvite" (onClose)="closeOrganisationInvite()"></app-organisation-card-invitation>


    <app-event-unregistry *ngIf = "showEventUnregistry" (onClose)="closeEventUnregitry()"></app-event-unregistry>
    <app-event-card-tutor *ngIf="showTutorCard" (onClose)="closeEventUnregitry()"></app-event-card-tutor>
  </body>
</html>

