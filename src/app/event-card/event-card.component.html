<!doctype html>
<html>
<div class ="popup-background">
  <div class="popup">
        <button mat-fab (click)="closeCard()" class = "close-Button">
          <mat-icon class ="close-Icon">close</mat-icon>
        </button>

      <img mat-card-image src="{{eventData.image}}">

      <mat-tab-group class="tab-group">
        <mat-tab label="Eventkarte">
          <h1>{{eventData.name}}</h1>
          <h2>Beschreibung</h2>
          <p>{{eventData.description}}</p>
          <h2>Zeit</h2>
          <p>
            Beginnt am {{eventData.startDate | date: 'dd.MM.yyyy'}} um {{eventData.startTime}}
          </p>
          <p>
            Endet am {{eventData.endDate | date: 'dd.MM.yyyy'}} um {{eventData.endTime}}
          </p>
          <h2>Ort</h2>
          <p>
            {{eventData.location}}
          </p>
        </mat-tab>
        <mat-tab label="Eventguide">
          Content 2
        </mat-tab>
        <mat-tab label="Teilnehmerverwaltung" style="height: 100%">
          <div>
            <mat-table [dataSource]="dataSource" matSort>
              <ng-container matColumnDef="FirstName">
                <mat-header-cell *matHeaderCellDef>Vorname</mat-header-cell>
                <mat-cell *matCellDef="let user">{{user.firstname}}</mat-cell>
              </ng-container>

              <ng-container matColumnDef="LastName">
                <mat-header-cell *matHeaderCellDef>Nachname</mat-header-cell>
                <mat-cell *matCellDef="let user">{{user.lastname}}</mat-cell>
              </ng-container>

              <ng-container matColumnDef="eMail">
                <mat-header-cell *matHeaderCellDef>E-Mail-Adresse</mat-header-cell>
                <mat-cell *matCellDef="let user">{{user.emailAdress}}</mat-cell>
              </ng-container>

              <ng-container matColumnDef="actions">
                <mat-header-cell *matHeaderCellDef>Aktionen</mat-header-cell>
                <mat-cell *matCellDef="let user">
                  <button mat-icon-button (click)="removeUser(user)">
                    <mat-icon>
                      delete
                    </mat-icon>
                  </button>
                </mat-cell>
              </ng-container>
              <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
              <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
            </mat-table>
          </div>

          <div>
            <button mat-mini-fab (click) = "openAddUsertoEvent()" class = "addPerson">
              <mat-icon>person_add</mat-icon>
            </button>
          </div>
        </mat-tab>
        <mat-tab label="Eventverwaltung">
          <div class = "editForm">
            <p>Titel des Events</p>
            <mat-form-field >
              <input matInput placeholder="Titel" [(ngModel)]="eventData.name">
            </mat-form-field >
            <p>Beschreibung des Events</p>
            <mat-form-field class = "descriptionField">
              <textarea matInput placeholder="Beschreibung" [(ngModel)]="eventData.description">
              </textarea>
            </mat-form-field>

            <button mat-button (click)="onSave()">Speichern</button>
            <button mat-button (click)="onCancel()">Abbrechen</button>
          </div>
        </mat-tab>
      </mat-tab-group>

  </div>
</div>

<app-add-user-to-event *ngIf="showAddUsertoEvent" (onCloseAddUser)="closeCard()"></app-add-user-to-event>
</html>


